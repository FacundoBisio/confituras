const translations = {
    es: {
        home: "mermeladas palmelita",
        products: "productos",
        about: "nosotros",
        contact: "contacto",
        news: "noticias",
        hero_title: "Maestros Confiteros",
        hero_subtitle: "Islas Canarias - Desde 1968",
        intro_title: "Tradición y Sabor",
        intro_text: "Elaboramos nuestras mermeladas seleccionando las mejores frutas frescas de Canarias. Sin conservantes ni colorantes, solo fruta y azúcar para conseguir un sabor auténtico.",
        prod_kiwi: "Kiwi",
        prod_papaya_orange: "Papaya y Naranja",
        prod_papaya_orange_diet: "Papaya y Naranja (Diet)",
        prod_mango: "Mango",
        // Contact Page
        contact_title: "¡Ponte en contacto con nosotros rellenando el formulario!",
        contact_email: "E-MAIL DE CONTACTO",
        contact_name: "NOMBRE",
        contact_message: "COMENTARIO",
        contact_submit: "ENVIAR",
        // News Page Items (Static for demo)
        news_1_title: "Palmelita seleccionada como producto local para Madrid Fusión 2023",
        news_1_meta: "Diario de Avisos",
        news_1_date: "Miércoles, 18 de enero de 2023",
        news_1_excerpt: "La gastronomía de Candelaria estará presente en Madrid Fusión...",
        news_2_title: "Palmelita seleccionada para Gran Feria de Alimentación de España El Corte Inglés",
        news_2_meta: "Diario Crítico, Salud y Consumo",
        news_2_date: "Miércoles, 04 de marzo de 2022",
        news_2_excerpt: "El Corte Inglés inaugura la Gran Feria de la Alimentación en el marco de su 75 Aniversario...",
        news_3_title: "«De Bajamar al corazón de Europa»",
        news_3_meta: "Diario de Avisos",
        news_3_date: "Domingo, 21 de junio de 2015",
        news_3_excerpt: "Confituras Palmelita da el salto a Alemania con unos productos de gran calidad...",
        news_4_title: "«Palmelita comienza a exportar sus confituras a Alemania»",
        news_4_meta: "La Opinión de Tenerife",
        news_4_date: "Viernes, 19 de junio de 2015",
        news_4_excerpt: "...Confituras Palmelita fue creada en 1968 por el maestro pastelero Werner Bittermann (1928-2014) en su pequeño obrador...",
        cofinance_text: "Proyecto cofinanciado por el Fondo Europeo de Desarrollo Regional (FEDER)"
    },
    en: {
        home: "palmelita jam",
        products: "products",
        about: "about us",
        contact: "contact",
        news: "news",
        hero_title: "Master Confectioners",
        hero_subtitle: "Canary Islands - Since 1968",
        intro_title: "Tradition and Flavor",
        intro_text: "We make our jams selecting the best fresh fruits from the Canary Islands. No preservatives or colorings, just fruit and sugar to achieve an authentic taste.",
        prod_kiwi: "Kiwi",
        prod_papaya_orange: "Papaya & Orange",
        prod_papaya_orange_diet: "Papaya & Orange (Diet)",
        prod_mango: "Mango",
        // Contact Page
        contact_title: "Get in touch with us by filling out the form!",
        contact_email: "CONTACT E-MAIL",
        contact_name: "NAME",
        contact_message: "COMMENT",
        contact_submit: "SEND",
        // News Page Items
        news_1_title: "Palmelita selected as local product for Madrid Fusión 2023",
        news_1_meta: "Diario de Avisos",
        news_1_date: "Wednesday, January 18, 2023",
        news_1_excerpt: "The gastronomy of Candelaria will be present at Madrid Fusión...",
        news_2_title: "Palmelita selected for Great Spanish Food Fair El Corte Inglés",
        news_2_meta: "Diario Crítico, Health and Consumption",
        news_2_date: "Wednesday, March 04, 2022",
        news_2_excerpt: "El Corte Inglés inaugurates the Great Food Fair within the framework of its 75th Anniversary...",
        news_3_title: "«From Bajamar to the heart of Europe»",
        news_3_meta: "Diario de Avisos",
        news_3_date: "Sunday, June 21, 2015",
        news_3_excerpt: "Confituras Palmelita takes the leap to Germany with high quality products...",
        news_4_title: "«Palmelita starts exporting its jams to Germany»",
        news_4_meta: "La Opinión de Tenerife",
        news_4_date: "Friday, June 19, 2015",
        news_4_excerpt: "...Confituras Palmelita was created in 1968 by master confectioner Werner Bittermann (1928-2014) in his small workshop...",
        cofinance_text: "Project co-financed by the European Regional Development Fund (ERDF)"
    },
    de: {
        home: "palmelita konfitüre",
        products: "produkte",
        about: "über uns",
        contact: "kontakt",
        news: "nachrichten",
        hero_title: "Konditormeister",
        hero_subtitle: "Kanarische Inseln - Seit 1968",
        intro_title: "Tradition und Geschmack",
        intro_text: "Wir stellen unsere Konfitüren aus den besten frischen Früchten der Kanarischen Inseln her.",
        prod_kiwi: "Kiwi",
        prod_papaya_orange: "Papaya & Orange",
        prod_papaya_orange_diet: "Papaya & Orange (Diät)",
        prod_mango: "Mango",
        // Contact Page
        contact_title: "Nehmen Sie Kontakt mit uns auf, indem Sie das Formular ausfüllen!",
        contact_email: "KONTAKT E-MAIL",
        contact_name: "NAME",
        contact_message: "KOMMENTAR",
        contact_submit: "SENDEN",
        // News Page Items
        news_1_title: "Palmelita als lokales Produkt für Madrid Fusión 2023 ausgewählt",
        news_1_meta: "Diario de Avisos",
        news_1_date: "Mittwoch, 18. Januar 2023",
        news_1_excerpt: "Die Gastronomie von Candelaria wird auf der Madrid Fusión präsent sein...",
        news_2_title: "Palmelita für die Große spanische Lebensmittelmesse El Corte Inglés ausgewählt",
        news_2_meta: "Diario Crítico, Gesundheit und Verbrauch",
        news_2_date: "Mittwoch, 04. März 2022",
        news_2_excerpt: "El Corte Inglés eröffnet die Große Lebensmittelmesse im Rahmen seines 75. Jubiläums...",
        news_3_title: "«Von Bajamar ins Herz Europas»",
        news_3_meta: "Diario de Avisos",
        news_3_date: "Sonntag, 21. Juni 2015",
        news_3_excerpt: "Confituras Palmelita wagt den Sprung nach Deutschland mit hochwertigen Produkten...",
        news_4_title: "«Palmelita beginnt mit dem Export seiner Konfitüren nach Deutschland»",
        news_4_meta: "La Opinión de Tenerife",
        news_4_date: "Freitag, 19. Juni 2015",
        news_4_excerpt: "...Confituras Palmelita wurde 1968 von Konditormeister Werner Bittermann (1928-2014) in seiner kleinen Werkstatt gegründet...",
        cofinance_text: "Projekt kofinanziert durch den Europäischen Fonds für regionale Entwicklung (EFRE)"
    },
    fr: {
        home: "confiture palmelita",
        products: "produits",
        about: "à propos",
        contact: "contact",
        news: "nouvelles",
        hero_title: "Maîtres Confiseurs",
        hero_subtitle: "Îles Canaries - Depuis 1968",
        intro_title: "Tradition et Saveur",
        intro_text: "Nous fabriquons nos confitures en sélectionnant les meilleurs fruits frais des îles Canaries.",
        prod_kiwi: "Kiwi",
        prod_papaya_orange: "Papaye et Orange",
        prod_papaya_orange_diet: "Papaye et Orange (Régime)",
        prod_mango: "Mangue",
        // Contact Page
        contact_title: "Contactez-nous en remplissant le formulaire !",
        contact_email: "E-MAIL DE CONTACT",
        contact_name: "NOM",
        contact_message: "COMMENTAIRE",
        contact_submit: "ENVOYER",
        // News Page Items
        news_1_title: "Palmelita sélectionnée comme produit local pour Madrid Fusión 2023",
        news_1_meta: "Diario de Avisos",
        news_1_date: "Mercredi 18 janvier 2023",
        news_1_excerpt: "La gastronomie de Candelaria sera présente à Madrid Fusión...",
        news_2_title: "Palmelita sélectionnée pour la Grande Foire Alimentaire d'Espagne El Corte Inglés",
        news_2_meta: "Diario Crítico, Santé et Consommation",
        news_2_date: "Mercredi 04 mars 2022",
        news_2_excerpt: "El Corte Inglés inaugure la Grande Foire Alimentaire dans le cadre de son 75ème anniversaire...",
        news_3_title: "«De Bajamar au cœur de l'Europe»",
        news_3_meta: "Diario de Avisos",
        news_3_date: "Dimanche 21 juin 2015",
        news_3_excerpt: "Confituras Palmelita fait le saut en Allemagne avec des produits de grande qualité...",
        news_4_title: "«Palmelita commence à exporter ses confitures en Allemagne»",
        news_4_meta: "La Opinión de Tenerife",
        news_4_date: "Vendredi 19 juin 2015",
        news_4_excerpt: "...Confituras Palmelita a été créée en 1968 par le maître pâtissier Werner Bittermann (1928-2014) dans son petit atelier...",
        cofinance_text: "Projet cofinancé par le Fonds Européen de Développement régional (FEDER)"
    }
};

document.addEventListener("DOMContentLoaded", () => {
  const langBtns = document.querySelectorAll(".lang-btn");

  langBtns.forEach((btn) => {
    btn.addEventListener("click", () => {
      const lang = btn.id.split("-")[1];
      setLanguage(lang);

      // Update active state
      langBtns.forEach((b) => b.classList.remove("active"));
      btn.classList.add("active");
    });
  });

  // Default to ES
  setLanguage("es");
  document.getElementById("lang-es").classList.add("active");
  // Lightbox Logic
  const lightbox = document.getElementById("lightbox");
  const lightboxImg = document.getElementById("lightbox-img");
  const closeBtn = document.querySelector(".close-lightbox");
  const productImages = document.querySelectorAll(".product-image img");

  productImages.forEach((img) => {
    img.addEventListener("click", () => {
      lightbox.style.display = "flex";
      lightboxImg.src = img.src;
    });
  });

  if (closeBtn) {
    closeBtn.addEventListener("click", () => {
      lightbox.style.display = "none";
    });
  }

  if (lightbox) {
      lightbox.addEventListener("click", (e) => {
        if (e.target !== lightboxImg) {
            lightbox.style.display = "none";
        }
      });
  }
});

function setLanguage(lang) {
  const elements = document.querySelectorAll("[data-i18n]");
  elements.forEach((el) => {
    const key = el.getAttribute("data-i18n");
    if (translations[lang] && translations[lang][key]) {
      el.textContent = translations[lang][key];
    }
  });
}
